{"remainingRequest":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/thread-loader/dist/cjs.js!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/babel-loader/lib/index.js!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/Basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/Basket.vue","mtime":1614090324000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1Yi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmFza2V0JywKICBwcm9wczogewogICAgaXRlbXNTZWxlY3RlZDogey8vdHlwZTogQXJyYXkKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWI6IDAsCiAgICAgIGdyYW5kOiAwLAogICAgICBkaXNwbGF5OiBmYWxzZSwKICAgICAgaXRlbTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHF1YW50aXR5OiAwLAogICAgICAgIHByaWNlOiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaW5kVG90YWw6IGZ1bmN0aW9uIGZpbmRUb3RhbCgpIHsKICAgICAgdGhpcy5zdWIgPSAwOwogICAgICB0aGlzLmdyYW5kID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGN1cnJfaXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsKICAgICAgICB2YXIgcXVhbnRpdHkgPSBjdXJyX2l0ZW1bMV07CiAgICAgICAgdmFyIHByaWNlID0gY3Vycl9pdGVtWzJdOwogICAgICAgIHRoaXMuc3ViICs9IHF1YW50aXR5ICogcHJpY2U7CiAgICAgIH0KCiAgICAgIHRoaXMuZ3JhbmQgPSB0aGlzLnN1YiAqIDEuMDc7CiAgICAgIHRoaXMuZ3JhbmQudG9GaXhlZCgyKTsKCiAgICAgIGlmICh0aGlzLmRpc3BsYXkgPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmRpc3BsYXkgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgc2VuZE9yZGVyOiBmdW5jdGlvbiBzZW5kT3JkZXIoKSB7CiAgICAgIHZhciBsc3QgPSBbXTsKICAgICAgYWxlcnQodGhpcy5pdGVtc1NlbGVjdGVkICsgIiBzYXZlZCB0byBkYXRhYmFzZSIpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgY3Vycl9pdGVtID0gdGhpcy5pdGVtc1NlbGVjdGVkW2ldOwogICAgICAgIHZhciBxdWFudGl0eSA9IGN1cnJfaXRlbVsxXTsgLy9jb25zdCBwcmljZSA9IGN1cnJfaXRlbVsyXTsKCiAgICAgICAgdmFyIG5hbWUgPSBjdXJyX2l0ZW1bMF07CiAgICAgICAgbHN0LnB1c2goewogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICAgIH0pOwogICAgICB9CgogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5hZGQoewogICAgICAgIGxzdDogbHN0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA,CACA;AADA;AADA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAKA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,CAFA;AAGA,QAAA,KAAA,EAAA;AAHA;AALA,KAAA;AAYA,GArBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,GAAA,GAAA,CAAA;AACA,WAAA,KAAA,GAAA,CAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,YAAA,QAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AACA,aAAA,GAAA,IAAA,QAAA,GAAA,KAAA;AACA;;AAEA,WAAA,KAAA,GAAA,KAAA,GAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,CAAA;;AACA,UAAA,KAAA,OAAA,IAAA,KAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AACA,KAjBA;AAmBA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,aAAA,GAAA,oBAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,YAAA,QAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CAFA,CAGA;;AACA,YAAA,IAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AAEA,QAAA,GAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA;AAGA;;AAEA,MAAA,QAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CAAA;AACA,QAAA,GAAA,EAAA;AADA,OAAA,EAEA,IAFA,CAEA,YAAA;AAAA,QAAA,QAAA,CAAA,MAAA;AAAA,OAFA;AAKA;AAtCA;AAvBA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<h2>menu in basket</h2>\n\t\t<ul>\n\t\t\t<li v-for=\"item in itemsSelected\" :key=\"item.name\">\n\n\t\t\t\t{{ item[0]}} x {{item[1]}} \n\t\t\t\t\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<button id=\"subTotal\" v-on:click=\"findTotal();sendOrder()\">Calculate total + add order</button><br>\n\t\t<h1 v-show=\"display\">Subtotal: ${{sub}}</h1>\n\t\t<h1 v-show=\"display\">Grand Total:${{grand}}</h1>\n\t</div>\n\n</template>\n\n<script>\n\timport database from '../firebase.js'\n\texport default {\n\t\tname: 'Basket',\n\t\tprops: {\n\t\t\titemsSelected: {\n\t\t\t\t//type: Array\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsub: 0,\n\t\t\t\tgrand: 0,\n\t\t\t\tdisplay: false,\n\n\t\t\t\titem:{\n\t\t\t\t\tname:\"\",\n\t\t\t\t\tquantity:0,\n\t\t\t\t\tprice:0\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n           findTotal: function() {\n            this.sub = 0;\n            this.grand = 0;\n             \n              for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const quantity = curr_item[1];\n                const price = curr_item[2];\n                this.sub += quantity * price;\n              }\n\n              this.grand = this.sub*1.07;\n              this.grand.toFixed(2);\n              if (this.display == false) {\n                 this.display = true;\n              }\n           },\n\n           sendOrder: function() {\n            var lst=[];\n            alert(this.itemsSelected + \" saved to database\");\n             for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const quantity = curr_item[1];\n                //const price = curr_item[2];\n                const name = curr_item[0];\n\n                lst.push({name, quantity});\n\n                \n              }\n\n              database.collection('orders').add({\n                  lst\n                }).then(() => {location.reload()});\n\n            \n           }\n\n\t\t\t\n\t\t}\n\n\t}\n</script>\n\n\n<style>\n\th1 {\n\t\tcolor: blue;\n\t\tfont-family: avenir;\n\t\tfont-size: 30px;\n\t}\n\n\tul {\n\t\tfont-family: avenir;\n\t\tfont-size: 30px;\n\t}\n</style>"],"sourceRoot":"src/components"}]}