{"remainingRequest":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/thread-loader/dist/cjs.js!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/babel-loader/lib/index.js!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/eslint-loader/index.js??ref--13-0!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/charts/BarChart.js","dependencies":[{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/charts/BarChart.js","mtime":1615034903000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBCYXIgfSBmcm9tICd2dWUtY2hhcnRqcyc7CmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi8uLi9maXJlYmFzZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBleHRlbmRzOiBCYXIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFjb2xsZWN0aW9uOiB7CiAgICAgICAgbGFiZWxzOiBbLy8iUG9yayBGcmllZCBSaWNlIiwgIk1hcG8gVG9mdSIsICJTYW1iYWwgS2FuZ0t1bmciLCAKICAgICAgICAgIC8vIkNlcmVhbCBQcmF3biIsICJEcnkgQmVlZiBIb3IgRnVuIiwgIlByYXduIG9tZWxldHRlIgogICAgICAgIF0sCiAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICBsYWJlbDogIlF1YW50aXR5IiwKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWyd5ZWxsb3cnLCAncHVycGxlJywgJ2dyZWVuJywgJ3BpbmsnLCAnYmx1ZScsICdyZWQnXSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJ09yZGVycycKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsCiAgICAgICAgc2NhbGVzOiB7CiAgICAgICAgICB5QXhlczogW3sKICAgICAgICAgICAgdGlja3M6IHsKICAgICAgICAgICAgICBtaW46IDAKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbiBmZXRjaEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbignb3JkZXJzJykuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnlTbmFwU2hvdCkgewogICAgICAgIHZhciBpdGVtID0ge307CiAgICAgICAgcXVlcnlTbmFwU2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIC8vYWxlcnQoSlNPTi5zdHJpbmdpZnkoZG9jLmRhdGEoKS5sc3QpKQogICAgICAgICAgaXRlbSA9IGRvYy5kYXRhKCkubHN0OwogICAgICAgICAgaXRlbS5mb3JFYWNoKGZ1bmN0aW9uIChkZXRhaWxzKSB7CiAgICAgICAgICAgIC8vYWxlcnQoImhpIikKICAgICAgICAgICAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkoZGV0YWlscy5uYW1lKSArIEpTT04uc3RyaW5naWZ5KGRldGFpbHMucXVhbnRpdHkpKQogICAgICAgICAgICB2YXIgbGVuID0gX3RoaXMuZGF0YWNvbGxlY3Rpb24ubGFiZWxzLmxlbmd0aDsgLy9hbGVydChKU09OLnN0cmluZ2lmeShkZXRhaWxzLmRhdGEoKSkpCgogICAgICAgICAgICBpZiAobGVuID09PSAwKSB7CiAgICAgICAgICAgICAgLy9hbGVydChKU09OLnN0cmluZ2lmeShkZXRhaWxzLm5hbWUpKQogICAgICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmxhYmVscy5wdXNoKGRldGFpbHMubmFtZSk7CgogICAgICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmRhdGEucHVzaChkZXRhaWxzLnF1YW50aXR5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgY3Vycl9sYWIgPSBfdGhpcy5kYXRhY29sbGVjdGlvbi5sYWJlbHNbaV07CiAgICAgICAgICAgICAgICB2YXIgY3Vycl9xdWFudGl0eSA9IHBhcnNlSW50KF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmRhdGFbaV0pOyAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KGN1cnJfbGFiKSkKCiAgICAgICAgICAgICAgICBpZiAoY3Vycl9sYWIgPT0gZGV0YWlscy5uYW1lKSB7CiAgICAgICAgICAgICAgICAgIC8vaWYgbGFiZWwgZXhpc3RzLCB1cGRhdGUgcXVhbnRpdHkKICAgICAgICAgICAgICAgICAgLy9hbGVydCgiZGF0YVtpXSBpcyAiICsgaSArICIgbmFtZTogIiArIGRldGFpbHMubmFtZSArICJxdWFudGl0eSAiICsgSlNPTi5zdHJpbmdpZnkoY3Vycl9xdWFudGl0eSkpCiAgICAgICAgICAgICAgICAgIGN1cnJfcXVhbnRpdHkgPSBjdXJyX3F1YW50aXR5ICsgcGFyc2VJbnQoZGV0YWlscy5xdWFudGl0eSk7IC8vIGFsZXJ0KCJ1cGRhdGVkZGF0YVtpXSBpcyAiICsgaSArICIgbmFtZTogIiArIGRldGFpbHMubmFtZSArICJxdWFudGl0eSAiICsgSlNPTi5zdHJpbmdpZnkoY3Vycl9xdWFudGl0eSkpCgogICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5kYXRhc2V0c1swXS5kYXRhLnNwbGljZShpLCAxKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmRhdGEuc3BsaWNlKGksIDAsIGN1cnJfcXVhbnRpdHkpOyAvL3RoaXMuZGF0YWNvbGxlY3Rpb24uZGF0YXNldHNbMF0uZGF0YS5wdXNoKGRldGFpbHMucXVhbnRpdHkpCgoKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJfbGFiICE9IGRldGFpbHMubmFtZSAmJiBpICE9IGxlbiAtIDEpIHsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJfbGFiICE9IGRldGFpbHMubmFtZSAmJiBpID09IGxlbiAtIDEpIHsKICAgICAgICAgICAgICAgICAgLy93aGVuIHRoZSBsYWJlbCBkb2VzbnQgZXhpc3RzCiAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmxhYmVscy5wdXNoKGRldGFpbHMubmFtZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5kYXRhc2V0c1swXS5kYXRhLnB1c2goZGV0YWlscy5xdWFudGl0eSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBhbGVydCgiZmluYWwgZGF0YSBpcyAiICsgX3RoaXMuZGF0YWNvbGxlY3Rpb24uZGF0YXNldHNbMF0uZGF0YSk7CgogICAgICAgIF90aGlzLnJlbmRlckNoYXJ0KF90aGlzLmRhdGFjb2xsZWN0aW9uLCBfdGhpcy5vcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEl0ZW1zKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/charts/BarChart.js"],"names":["Bar","database","extends","data","datacollection","labels","datasets","label","backgroundColor","options","legend","display","title","text","responsive","maintainAspectRatio","scales","yAxes","ticks","min","methods","fetchItems","collection","get","then","querySnapShot","item","forEach","doc","lst","details","len","length","push","name","quantity","i","curr_lab","curr_quantity","parseInt","splice","alert","renderChart","created"],"mappings":"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","sourcesContent":["\nimport { Bar } from 'vue-chartjs'\nimport database from '../../firebase.js'\n\nexport default {\n  extends: Bar,\n  data: function () {\n    return {\n        datacollection: {\n            labels: [\n            //\"Pork Fried Rice\", \"Mapo Tofu\", \"Sambal KangKung\", \n            //\"Cereal Prawn\", \"Dry Beef Hor Fun\", \"Prawn omelette\"\n            ],\n            datasets: [{\n                label: \"Quantity\",\n                backgroundColor: ['yellow', 'purple', 'green', 'pink', 'blue', 'red'],\n                data: []\n              }]\n        },\n        options: {\n            legend: { display: false },\n            title: {\n              display: true,\n              text: 'Orders'\n            },\n            responsive: true,\n            maintainAspectRatio: false,\n            scales:{\n                  yAxes:[{\n                      ticks:{\n                          min:0\n                      }\n                   }],\n                   \n              }\n        }\n    }\n  },\n  methods: {\n    fetchItems: function () {\n      database.collection('orders').get().then(querySnapShot => {\n        let item={} \n        querySnapShot.forEach(doc => {\n\n          //alert(JSON.stringify(doc.data().lst))\n          item = doc.data().lst;\n          item.forEach(details => {\n            //alert(\"hi\")\n\n           // alert(JSON.stringify(details.name) + JSON.stringify(details.quantity))\n            const len = this.datacollection.labels.length\n            //alert(JSON.stringify(details.data()))\n            \n\n            if (len === 0) {\n              //alert(JSON.stringify(details.name))\n              this.datacollection.labels.push(details.name)\n              \n              this.datacollection.datasets[0].data.push(details.quantity);\n\n            } else {\n              for (let i = 0; i < len; i++) {\n                const curr_lab = this.datacollection.labels[i];\n                var curr_quantity = parseInt(this.datacollection.datasets[0].data[i])\n               //alert(JSON.stringify(curr_lab))\n                if (curr_lab == details.name) {\n                  //if label exists, update quantity\n                  \n                  //alert(\"data[i] is \" + i + \" name: \" + details.name + \"quantity \" + JSON.stringify(curr_quantity))\n                   curr_quantity = curr_quantity + parseInt(details.quantity)\n                 // alert(\"updateddata[i] is \" + i + \" name: \" + details.name + \"quantity \" + JSON.stringify(curr_quantity))\n                 \n                  this.datacollection.datasets[0].data.splice(i, 1);\n\n                  this.datacollection.datasets[0].data.splice(i, 0, curr_quantity);\n                  //this.datacollection.datasets[0].data.push(details.quantity)\n\n                  break;\n                } else if (curr_lab != details.name && i != len - 1) {\n                  continue;\n                }\n                else if (curr_lab != details.name && i == len - 1) {\n                  //when the label doesnt exists\n                  this.datacollection.labels.push(details.name)\n                  \n                  this.datacollection.datasets[0].data.push(details.quantity)\n\n                }\n              }\n\n            }\n\n          })\n          \n\n            \n        })\n        alert(\"final data is \" + this.datacollection.datasets[0].data);\n        this.renderChart(this.datacollection, this.options)\n      })\n    }, \n   \n  },\n  created () {\n    this.fetchItems()\n  }\n}\n\n"]}]}