{"remainingRequest":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/Basket.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/src/components/Basket.vue","mtime":1614090324000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/AngelicaTay/Desktop/uni/y2s2/bt3103/bt3103-week-4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmgxIHsKCWNvbG9yOiBibHVlOwoJZm9udC1mYW1pbHk6IGF2ZW5pcjsKCWZvbnQtc2l6ZTogMzBweDsKfQoKdWwgewoJZm9udC1mYW1pbHk6IGF2ZW5pcjsKCWZvbnQtc2l6ZTogMzBweDsKfQo="},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div>\n\t\t<h2>menu in basket</h2>\n\t\t<ul>\n\t\t\t<li v-for=\"item in itemsSelected\" :key=\"item.name\">\n\n\t\t\t\t{{ item[0]}} x {{item[1]}} \n\t\t\t\t\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<button id=\"subTotal\" v-on:click=\"findTotal();sendOrder()\">Calculate total + add order</button><br>\n\t\t<h1 v-show=\"display\">Subtotal: ${{sub}}</h1>\n\t\t<h1 v-show=\"display\">Grand Total:${{grand}}</h1>\n\t</div>\n\n</template>\n\n<script>\n\timport database from '../firebase.js'\n\texport default {\n\t\tname: 'Basket',\n\t\tprops: {\n\t\t\titemsSelected: {\n\t\t\t\t//type: Array\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsub: 0,\n\t\t\t\tgrand: 0,\n\t\t\t\tdisplay: false,\n\n\t\t\t\titem:{\n\t\t\t\t\tname:\"\",\n\t\t\t\t\tquantity:0,\n\t\t\t\t\tprice:0\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n           findTotal: function() {\n            this.sub = 0;\n            this.grand = 0;\n             \n              for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const quantity = curr_item[1];\n                const price = curr_item[2];\n                this.sub += quantity * price;\n              }\n\n              this.grand = this.sub*1.07;\n              this.grand.toFixed(2);\n              if (this.display == false) {\n                 this.display = true;\n              }\n           },\n\n           sendOrder: function() {\n            var lst=[];\n            alert(this.itemsSelected + \" saved to database\");\n             for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const quantity = curr_item[1];\n                //const price = curr_item[2];\n                const name = curr_item[0];\n\n                lst.push({name, quantity});\n\n                \n              }\n\n              database.collection('orders').add({\n                  lst\n                }).then(() => {location.reload()});\n\n            \n           }\n\n\t\t\t\n\t\t}\n\n\t}\n</script>\n\n\n<style>\n\th1 {\n\t\tcolor: blue;\n\t\tfont-family: avenir;\n\t\tfont-size: 30px;\n\t}\n\n\tul {\n\t\tfont-family: avenir;\n\t\tfont-size: 30px;\n\t}\n</style>"]}]}